<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Dashboard - AR Homes Posadas Farm Resort</title>

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="logo/ChatGPT Image Sep 15, 2025, 10_25_25 PM.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="logo/ChatGPT Image Sep 15, 2025, 10_25_25 PM.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="logo/ChatGPT Image Sep 15, 2025, 10_25_25 PM.png"
    />
    <link
      rel="shortcut icon"
      href="logo/ChatGPT Image Sep 15, 2025, 10_25_25 PM.png"
    />

    <!-- Meta tags -->
    <meta name="theme-color" content="#667eea" />
    <meta
      name="description"
      content="User Dashboard for AR Homes Posadas Farm Resort - Manage your reservations and profile."
    />
    <meta
      name="keywords"
      content="dashboard, user, resort reservations, AR Homes, Posadas Farm"
    />
    <meta name="author" content="AR Homes Posadas Farm Resort" />

    <!-- Open Graph meta tags for social sharing -->
    <meta
      property="og:title"
      content="User Dashboard - AR Homes Posadas Farm Resort"
    />
    <meta
      property="og:description"
      content="Manage your reservations and profile at AR Homes Posadas Farm Resort."
    />
    <meta
      property="og:image"
      content="logo/ChatGPT Image Sep 15, 2025, 10_25_25 PM.png"
    />
    <meta property="og:url" content="#" />
    <meta property="og:type" content="website" />

    <!-- Twitter Card meta tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="User Dashboard - AR Homes Posadas Farm Resort"
    />
    <meta
      name="twitter:description"
      content="Manage your reservations and profile at AR Homes Posadas Farm Resort."
    />
    <meta
      name="twitter:image"
      content="logo/ChatGPT Image Sep 15, 2025, 10_25_25 PM.png"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="dashboard-styles.css" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>

  <body>
    <!-- Logout Functions - Load First -->
    <script>
      console.log("üîß Loading logout functions...");

      // Define logout functions immediately
      window.showLogoutPopup = function () {
        console.log("üö™ showLogoutPopup called");
        const popup = document.getElementById("logoutPopupOverlay");
        console.log("Popup element:", popup);
        if (popup) {
          popup.style.display = "flex";
          popup.style.visibility = "visible";
          popup.style.opacity = "1";
          console.log("‚úÖ Logout popup should be visible now");
        } else {
          console.error("‚ùå logoutPopupOverlay element not found");
          alert("Logout popup not found. Redirecting to logout...");
          window.location.href = "user/logout.php";
        }
      };

      window.hideLogoutPopup = function () {
        console.log("üö™ hideLogoutPopup called");
        const popup = document.getElementById("logoutPopupOverlay");
        if (popup) {
          popup.style.display = "none";
          popup.style.visibility = "hidden";
          popup.style.opacity = "0";
          console.log("‚úÖ Logout popup hidden");
        }
      };

      window.confirmLogout = function () {
        console.log("üö™ confirmLogout called - redirecting...");
        window.location.href = "user/logout.php";
      };

      console.log("‚úÖ Logout functions loaded");
      console.log("showLogoutPopup available:", typeof window.showLogoutPopup);
    </script>

    <div class="dashboard-container">
      <!-- Header -->
      <header class="dashboard-header">
        <div class="header-left">
          <div class="logo">
            <img
              src="logo/ChatGPT Image Sep 15, 2025, 10_25_25 PM.png"
              alt="AR Homes Resort Logo"
            />
          </div>
          <div class="resort-info">
            <h1>AR Homes Posadas Farm Resort</h1>
            <p>Guest Dashboard</p>
          </div>
        </div>
        <div class="header-right">
          <div class="user-profile">
            <div class="profile-info">
              <span class="user-name" id="userName" style="opacity: 0"
                >Loading...</span
              >
              <span class="user-role">Guest</span>
            </div>
            <div class="profile-avatar">
              <i class="fas fa-user"></i>
            </div>
          </div>
          <button class="logout-btn" onclick="showLogoutPopup()">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
          </button>
        </div>
        <div class="mobile-toggle" onclick="toggleSidebar()">
          <i class="fas fa-bars"></i>
        </div>
      </header>

      <!-- Main Layout Container -->
      <div class="main-layout">
        <!-- Resort Gallery Section -->
        <div class="resort-gallery-section">
          <div class="resort-gallery">
            <div class="gallery-container">
              <div class="gallery-wrapper" id="galleryWrapper">
                <div class="gallery-slide active">
                  <img
                    src="images/545601129_1082516497373944_2891607710179489901_n.jpg"
                    alt="Resort View 1"
                  />
                  <div class="slide-overlay">
                    <h4>Stunning Pool Area</h4>
                    <p>
                      Relax in our pristine pool surrounded by tropical
                      landscapes
                    </p>
                  </div>
                </div>
                <div class="gallery-slide">
                  <img
                    src="images/545611560_1324092662718848_8811536535004180762_n.jpg"
                    alt="Resort View 2"
                  />
                  <div class="slide-overlay">
                    <h4>Luxury Accommodations</h4>
                    <p>Experience comfort in our beautifully designed rooms</p>
                  </div>
                </div>
                <div class="gallery-slide">
                  <img
                    src="images/546182776_2167385133738763_7006991891791172725_n.jpg"
                    alt="Resort View 3"
                  />
                  <div class="slide-overlay">
                    <h4>Restaurant & Dining</h4>
                    <p>Savor exquisite cuisine with panoramic views</p>
                  </div>
                </div>
                <div class="gallery-slide">
                  <img
                    src="images/546238992_684641691315373_7119956179300816560_n.jpg"
                    alt="Resort View 4"
                  />
                  <div class="slide-overlay">
                    <h4>Garden Paradise</h4>
                    <p>Stroll through our lush tropical gardens</p>
                  </div>
                </div>
                <div class="gallery-slide">
                  <img
                    src="images/546260243_2896334557423631_287976220203457252_n.jpg"
                    alt="Resort View 5"
                  />
                  <div class="slide-overlay">
                    <h4>Recreational Activities</h4>
                    <p>Enjoy various activities and entertainment</p>
                  </div>
                </div>
                <div class="gallery-slide">
                  <img
                    src="images/546407920_1244121977399879_5414686772811094703_n.jpg"
                    alt="Resort View 6"
                  />
                  <div class="slide-overlay">
                    <h4>Wellness & Spa</h4>
                    <p>Rejuvenate in our world-class spa facilities</p>
                  </div>
                </div>
              </div>
              <div class="gallery-controls">
                <button class="gallery-btn prev-btn" id="prevBtn">
                  <i class="fas fa-chevron-left"></i>
                </button>
                <button class="gallery-btn next-btn" id="nextBtn">
                  <i class="fas fa-chevron-right"></i>
                </button>
              </div>
              <div class="gallery-indicators" id="galleryIndicators">
                <span class="indicator active" data-slide="0"></span>
                <span class="indicator" data-slide="1"></span>
                <span class="indicator" data-slide="2"></span>
                <span class="indicator" data-slide="3"></span>
                <span class="indicator" data-slide="4"></span>
                <span class="indicator" data-slide="5"></span>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigation Section -->
        <div class="navigation-section">
          <div class="horizontal-nav">
            <nav class="nav-menu-horizontal">
              <button class="nav-btn active" data-section="dashboard">
                <i class="fas fa-chart-line"></i>
                <span>Dashboard</span>
              </button>
              <button class="nav-btn" data-section="my-reservations">
                <i class="fas fa-calendar-plus"></i>
                <span>Make Reservation</span>
              </button>
              <button
                class="nav-btn booking-nav"
                id="booking-details-tab"
                data-section="booking-details"
                style="display: none"
              >
                <i class="fas fa-credit-card"></i>
                <span>Booking & Payment</span>
              </button>
              <button class="nav-btn" data-section="promotions">
                <i class="fas fa-tags"></i>
                <span>Promotions</span>
              </button>
              <button class="nav-btn" data-section="profile">
                <i class="fas fa-user-cog"></i>
                <span>Profile</span>
              </button>
              <button class="nav-btn" data-section="my-bookings">
                <i class="fas fa-clipboard-list"></i>
                <span>My Bookings</span>
              </button>
              <button class="nav-btn" data-section="bookings-history">
                <i class="fas fa-history"></i>
                <span>Booking History</span>
              </button>
              <button class="nav-btn" data-section="notifications">
                <i class="fas fa-bell"></i>
                <span>Notifications</span>
                <span
                  class="notification-badge"
                  id="notificationCount"
                  style="display: none"
                  >0</span
                >
              </button>
              <button class="nav-btn" data-section="reviews">
                <i class="fas fa-star"></i>
                <span>My Reviews</span>
              </button>
            </nav>
          </div>
        </div>

        <!-- Content Area (Half View) -->
        <div class="content-area" id="contentArea">
          <!-- Dashboard Content -->
          <div class="content-section active" id="dashboard-section">
            <!-- Quick Actions Widget -->
            <div class="quick-actions-widget">
              <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
              <div class="quick-actions-grid">
                <button class="quick-action-btn" onclick="quickAction('book')">
                  <i class="fas fa-calendar-plus"></i>
                  <span>New Booking</span>
                </button>
                <button class="quick-action-btn" onclick="quickAction('view')">
                  <i class="fas fa-eye"></i>
                  <span>View Bookings</span>
                </button>
                <button class="quick-action-btn" onclick="quickAction('promo')">
                  <i class="fas fa-tag"></i>
                  <span>Promotions</span>
                </button>
                <button
                  class="quick-action-btn"
                  onclick="quickAction('support')"
                >
                  <i class="fas fa-headset"></i>
                  <span>Support</span>
                </button>
              </div>
            </div>

            <!-- Weather Widget -->
            <div class="weather-widget">
              <div class="weather-header">
                <h3><i class="fas fa-cloud-sun"></i> Weather at Resort</h3>
                <span class="weather-location">Posadas, Bohol</span>
              </div>
              <div class="weather-content">
                <div class="weather-main">
                  <div class="weather-temp">28¬∞C</div>
                  <div class="weather-condition">
                    <i class="fas fa-sun"></i>
                    <span>Sunny</span>
                  </div>
                </div>
                <div class="weather-details">
                  <div class="weather-detail">
                    <i class="fas fa-tint"></i>
                    <span>Humidity: 65%</span>
                  </div>
                  <div class="weather-detail">
                    <i class="fas fa-wind"></i>
                    <span>Wind: 12 km/h</span>
                  </div>
                </div>
              </div>
              <div class="weather-forecast">
                <div class="forecast-day">
                  <span>Mon</span>
                  <i class="fas fa-sun"></i>
                  <span>30¬∞</span>
                </div>
                <div class="forecast-day">
                  <span>Tue</span>
                  <i class="fas fa-cloud-sun"></i>
                  <span>29¬∞</span>
                </div>
                <div class="forecast-day">
                  <span>Wed</span>
                  <i class="fas fa-cloud-rain"></i>
                  <span>27¬∞</span>
                </div>
                <div class="forecast-day">
                  <span>Thu</span>
                  <i class="fas fa-sun"></i>
                  <span>31¬∞</span>
                </div>
              </div>
            </div>

            <div class="stats-grid">
              <div class="stats-card">
                <div class="stats-icon">
                  <i class="fas fa-calendar-alt"></i>
                </div>
                <div class="stats-content">
                  <h3 class="stats-number" id="totalReservations">5</h3>
                  <p class="stats-label">Total Reservations</p>
                </div>
              </div>
              <div class="stats-card">
                <div class="stats-icon pending">
                  <i class="fas fa-clock"></i>
                </div>
                <div class="stats-content">
                  <h3 class="stats-number" id="pendingReservations">2</h3>
                  <p class="stats-label">Pending Reservations</p>
                </div>
              </div>
              <div class="stats-card">
                <div class="stats-icon approved">
                  <i class="fas fa-check-circle"></i>
                </div>
                <div class="stats-content">
                  <h3 class="stats-number" id="approvedReservations">3</h3>
                  <p class="stats-label">Approved Reservations</p>
                </div>
              </div>
              <div class="stats-card">
                <div class="stats-icon completed">
                  <i class="fas fa-star"></i>
                </div>
                <div class="stats-content">
                  <h3 class="stats-number" id="completedStays">8</h3>
                  <p class="stats-label">Completed Stays</p>
                </div>
              </div>
            </div>

            <div class="recent-activity">
              <h3>Recent Activity</h3>
              <div class="activity-list">
                <div class="activity-item">
                  <div class="activity-icon">
                    <i class="fas fa-calendar-check"></i>
                  </div>
                  <div class="activity-content">
                    <h4>Reservation Confirmed</h4>
                    <p>
                      Your booking for December 15-18, 2025 has been approved.
                    </p>
                    <span class="activity-date">2 days ago</span>
                  </div>
                </div>
                <div class="activity-item">
                  <div class="activity-icon">
                    <i class="fas fa-edit"></i>
                  </div>
                  <div class="activity-content">
                    <h4>Profile Updated</h4>
                    <p>
                      Your contact information has been successfully updated.
                    </p>
                    <span class="activity-date">1 week ago</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Make Reservation Content -->
          <div class="content-section" id="my-reservations-section">
            <!-- Booking Policy Notice -->
            <div class="policy-notice">
              <h2>üìã Booking Policy</h2>
              <div class="policy-highlights">
                <div class="policy-item">
                  <i class="fas fa-calendar-check"></i>
                  <span><strong>Single booking only per slot</strong></span>
                </div>
                <div class="policy-item">
                  <i class="fas fa-exclamation-triangle"></i>
                  <span
                    ><strong
                      >Down payment is strictly non-refundable</strong
                    ></span
                  >
                </div>
                <div class="policy-item">
                  <i class="fas fa-ban"></i>
                  <span><strong>No cancellation once confirmed</strong></span>
                </div>
                <div class="policy-item">
                  <i class="fas fa-wallet"></i>
                  <span
                    ><strong>50% Downpayment Required</strong> to confirm
                    reservation</span
                  >
                </div>
                <div class="policy-item">
                  <i class="fas fa-shield-alt"></i>
                  <span
                    ><strong>‚Ç±2,000 Security Bond</strong> upon check-in
                    (refundable)</span
                  >
                </div>
              </div>
            </div>

            <!-- Step 1: Select Package (Combined Booking Type & Package) -->
            <div class="booking-step active" id="step1">
              <h2>Step 1: Choose Your Package</h2>
              <p class="step-description">
                <strong>‚ú® ALL PACKAGES INCLUDE FULL RESORT ACCESS ‚ú®</strong
                ><br />
                Select the package that best fits your schedule and needs.
              </p>
              <div class="room-packages-grid" id="roomPackagesGrid">
                <!-- Daytime Package -->
                <div class="room-package-card" data-package="daytime">
                  <div class="package-header">
                    <h3>Daytime Package</h3>
                    <div class="package-badge budget">Budget Friendly</div>
                  </div>
                  <div class="package-content">
                    <div class="package-price-display">
                      <div class="package-price">
                        ‚Ç±<span id="daytime-price-main">6,000</span>
                      </div>
                      <div class="package-time">9:00 AM - 5:00 PM</div>
                    </div>

                    <div class="included-rooms">
                      <button
                        class="view-inclusions-btn"
                        onclick="openInclusionsModal('daytime')"
                        style="
                          width: 100%;
                          padding: 12px;
                          background: #f8f9fa;
                          border: 2px solid #e2e8f0;
                          border-radius: 8px;
                          cursor: pointer;
                          font-weight: 600;
                          color: #475569;
                          display: flex;
                          align-items: center;
                          justify-content: space-between;
                          transition: all 0.3s;
                        "
                      >
                        <span>üìã View Full Inclusions & Rooms</span>
                        <i
                          class="fas fa-external-link-alt"
                          style="font-size: 0.9em"
                        ></i>
                      </button>
                      <div
                        class="inclusions-content"
                        id="inclusions-daytime"
                        style="display: none"
                      >
                        <h4>Inclusions:</h4>
                        <ul
                          style="
                            text-align: left;
                            padding-left: 20px;
                            margin: 15px 0;
                            font-size: 0.9em;
                          "
                        >
                          <li>
                            Free unlimited use of videoke until 10:00 PM only
                          </li>
                          <li>Free purified water</li>
                          <li>Free WiFi</li>
                          <li>Access to all pools</li>
                          <li>
                            Free use of kitchen, kitchenware, and barbecue area
                          </li>
                        </ul>
                        <h4 style="margin-top: 20px">Rooms:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room with VideoOke.jpg"
                              alt="Room with Videoke"
                            />
                            <div class="room-info">
                              <span class="room-name">Room with Videoke</span>
                              <span class="room-features">‚úÖ Included</span>
                              <button
                                class="view-image-btn"
                                onclick="openImageLightbox('images/Rooms/Room with VideoOke.jpg', 'Room with Videoke')"
                              >
                                <i class="fas fa-search-plus"></i> View Image
                              </button>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Swimming Pools:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Swimming Pools/Big Pool.jpg"
                              alt="Big Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Big Pool</span>
                              <span class="room-features">Access included</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Swimming Pools/Jacuzzi Pool.jpg"
                              alt="Jacuzzi Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Jacuzzi Pool</span>
                              <span class="room-features">Access included</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Kitchen Areas:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Kitchen/Kitchen 1.jpg"
                              alt="Kitchen 1"
                            />
                            <div class="room-info">
                              <span class="room-name">Kitchen Area 1</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Kitchen/Kitchen 2.jpg"
                              alt="Kitchen 2"
                            />
                            <div class="room-info">
                              <span class="room-name">Kitchen Area 2</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Barbecue Area:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Barbecue Area/Barbeque Area.jpg"
                              alt="Barbecue Area"
                            />
                            <div class="room-info">
                              <span class="room-name">Barbecue Area</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                        </div>
                        <div
                          style="
                            margin-top: 15px;
                            padding: 10px;
                            background: #fff3cd;
                            border-radius: 8px;
                            border-left: 4px solid #ffc107;
                          "
                        >
                          <strong style="font-size: 0.9em"
                            >NOT Included:</strong
                          >
                          <ul
                            style="
                              margin: 5px 0;
                              padding-left: 20px;
                              font-size: 0.85em;
                            "
                          >
                            <li>Triangle Room 1 & 2</li>
                            <li>Room Under the Pool</li>
                            <li>Kubo Room</li>
                            <li>Aircon Room</li>
                          </ul>
                        </div>
                        <div class="total-capacity" style="margin-top: 15px">
                          Minimum: 10 pax ‚Ä¢ No maximum limit
                        </div>
                      </div>
                    </div>
                    <button
                      class="select-package-btn"
                      onclick="selectRoomPackageDirect('daytime')"
                    >
                      Select Daytime Package
                    </button>
                  </div>
                </div>

                <!-- Nighttime Package -->
                <div
                  class="room-package-card featured"
                  data-package="nighttime"
                >
                  <div class="package-header">
                    <h3>Nighttime Package</h3>
                    <div class="package-badge premium">Most Popular</div>
                  </div>
                  <div class="package-content">
                    <div class="package-price-display">
                      <div class="package-price">
                        ‚Ç±<span id="nighttime-price-main">10,000</span>
                      </div>
                      <div class="package-time">7:00 PM - 7:00 AM</div>
                    </div>

                    <div class="included-rooms">
                      <button
                        class="view-inclusions-btn"
                        onclick="openInclusionsModal('nighttime')"
                        style="
                          width: 100%;
                          padding: 12px;
                          background: #f8f9fa;
                          border: 2px solid #e2e8f0;
                          border-radius: 8px;
                          cursor: pointer;
                          font-weight: 600;
                          color: #475569;
                          display: flex;
                          align-items: center;
                          justify-content: space-between;
                          transition: all 0.3s;
                        "
                      >
                        <span>üìã View Full Inclusions & Rooms</span>
                        <i
                          class="fas fa-external-link-alt"
                          style="font-size: 0.9em"
                        ></i>
                      </button>
                      <div
                        class="inclusions-content"
                        id="inclusions-nighttime"
                        style="display: none"
                      >
                        <h4>Inclusions:</h4>
                        <ul
                          style="
                            text-align: left;
                            padding-left: 20px;
                            margin: 15px 0;
                            font-size: 0.9em;
                          "
                        >
                          <li>
                            Free unlimited use of videoke until 10:00 PM only
                          </li>
                          <li>Full access to all amenities</li>
                          <li>Access to barbecue area</li>
                          <li>Free WiFi and purified water</li>
                        </ul>
                        <h4 style="margin-top: 20px">Rooms:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Triangle 1.jpg"
                              alt="Triangle Room 1"
                            />
                            <div class="room-info">
                              <span class="room-name">Triangle Room 1</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Triangle 2.jpg"
                              alt="Triangle Room 2"
                            />
                            <div class="room-info">
                              <span class="room-name">Triangle Room 2</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Under Pool.jpg"
                              alt="Room Under the Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Room Under Pool</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Kubo Room.jpg"
                              alt="Kubo Room"
                            />
                            <div class="room-info">
                              <span class="room-name">Kubo Room</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Aircon Room - Capacity of 12 to 15  with CR.jpg"
                              alt="Aircon Room"
                            />
                            <div class="room-info">
                              <span class="room-name">Aircon Room</span>
                              <span class="room-features">12-15 pax</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room with VideoOke.jpg"
                              alt="Room with Videoke"
                            />
                            <div class="room-info">
                              <span class="room-name">Room with Videoke</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Swimming Pools:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Swimming Pools/Big Pool.jpg"
                              alt="Big Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Big Pool</span>
                              <span class="room-features">Access included</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Swimming Pools/Jacuzzi Pool.jpg"
                              alt="Jacuzzi Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Jacuzzi Pool</span>
                              <span class="room-features">Access included</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Kitchen Areas:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Kitchen/Kitchen 1.jpg"
                              alt="Kitchen 1"
                            />
                            <div class="room-info">
                              <span class="room-name">Kitchen Area 1</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Kitchen/Kitchen 2.jpg"
                              alt="Kitchen 2"
                            />
                            <div class="room-info">
                              <span class="room-name">Kitchen Area 2</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Barbecue Area:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Barbecue Area/Barbeque Area.jpg"
                              alt="Barbecue Area"
                            />
                            <div class="room-info">
                              <span class="room-name">Barbecue Area</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <button
                      class="select-package-btn"
                      onclick="selectRoomPackageDirect('nighttime')"
                    >
                      Select Nighttime Package
                    </button>
                  </div>
                </div>

                <!-- 22 Hours Package -->
                <div class="room-package-card" data-package="22hours">
                  <div class="package-header">
                    <h3>22 Hours Package</h3>
                    <div class="package-badge comfort">Extended Stay</div>
                  </div>
                  <div class="package-content">
                    <div class="package-price-display">
                      <div class="package-price">
                        ‚Ç±<span id="22hours-price-main">18,000</span>
                      </div>
                      <div class="package-time">
                        2:00 PM - 12:00 NN (Next Day)
                      </div>
                    </div>

                    <div class="included-rooms">
                      <button
                        class="view-inclusions-btn"
                        onclick="openInclusionsModal('22hours')"
                        style="
                          width: 100%;
                          padding: 12px;
                          background: #f8f9fa;
                          border: 2px solid #e2e8f0;
                          border-radius: 8px;
                          cursor: pointer;
                          font-weight: 600;
                          color: #475569;
                          display: flex;
                          align-items: center;
                          justify-content: space-between;
                          transition: all 0.3s;
                        "
                      >
                        <span>üìã View Full Inclusions & Rooms</span>
                        <i
                          class="fas fa-external-link-alt"
                          style="font-size: 0.9em"
                        ></i>
                      </button>
                      <div
                        class="inclusions-content"
                        id="inclusions-22hours"
                        style="display: none"
                      >
                        <h4>Inclusions:</h4>
                        <ul
                          style="
                            text-align: left;
                            padding-left: 20px;
                            margin: 15px 0;
                            font-size: 0.9em;
                          "
                        >
                          <li>
                            Free unlimited use of videoke until 10:00 PM only
                          </li>
                          <li>All-access to all amenities and all rooms</li>
                          <li>Includes barbecue area</li>
                          <li>Ideal for extended stays</li>
                          <li>Free WiFi and purified water</li>
                        </ul>
                        <h4 style="margin-top: 20px">Rooms:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Triangle 1.jpg"
                              alt="Triangle Room 1"
                            />
                            <div class="room-info">
                              <span class="room-name">Triangle Room 1</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Triangle 2.jpg"
                              alt="Triangle Room 2"
                            />
                            <div class="room-info">
                              <span class="room-name">Triangle Room 2</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Under Pool.jpg"
                              alt="Room Under the Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Room Under Pool</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Kubo Room.jpg"
                              alt="Kubo Room"
                            />
                            <div class="room-info">
                              <span class="room-name">Kubo Room</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Aircon Room - Capacity of 12 to 15  with CR.jpg"
                              alt="Aircon Room"
                            />
                            <div class="room-info">
                              <span class="room-name">Aircon Room</span>
                              <span class="room-features">12-15 pax</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room with VideoOke.jpg"
                              alt="Room with Videoke"
                            />
                            <div class="room-info">
                              <span class="room-name">Room with Videoke</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Swimming Pools:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Swimming Pools/Big Pool.jpg"
                              alt="Big Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Big Pool</span>
                              <span class="room-features">Access included</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Swimming Pools/Jacuzzi Pool.jpg"
                              alt="Jacuzzi Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Jacuzzi Pool</span>
                              <span class="room-features">Access included</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Kitchen Areas:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Kitchen/Kitchen 1.jpg"
                              alt="Kitchen 1"
                            />
                            <div class="room-info">
                              <span class="room-name">Kitchen Area 1</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Kitchen/Kitchen 2.jpg"
                              alt="Kitchen 2"
                            />
                            <div class="room-info">
                              <span class="room-name">Kitchen Area 2</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Barbecue Area:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Barbecue Area/Barbeque Area.jpg"
                              alt="Barbecue Area"
                            />
                            <div class="room-info">
                              <span class="room-name">Barbecue Area</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <button
                      class="select-package-btn"
                      onclick="selectRoomPackageDirect('22hours')"
                    >
                      Select 22 Hours Package
                    </button>
                  </div>
                </div>

                <!-- Venue for All Occasions Package -->
                <div class="room-package-card" data-package="venue">
                  <div class="package-header">
                    <h3>Venue for All Occasions</h3>
                    <div
                      class="package-badge premium"
                      style="
                        background: linear-gradient(
                          135deg,
                          #f093fb 0%,
                          #f5576c 100%
                        );
                      "
                    >
                      Special Events
                    </div>
                  </div>
                  <div class="package-content">
                    <div class="package-price-display">
                      <div class="package-price">
                        <span style="font-size: 0.7em">Starting at</span><br />
                        ‚Ç±<span id="venue-price-main">6,000</span>
                      </div>
                      <div class="package-time">Based on Time Slot</div>
                    </div>

                    <div class="included-rooms">
                      <button
                        class="view-inclusions-btn"
                        onclick="openInclusionsModal('venue')"
                        style="
                          width: 100%;
                          padding: 12px;
                          background: #f8f9fa;
                          border: 2px solid #e2e8f0;
                          border-radius: 8px;
                          cursor: pointer;
                          font-weight: 600;
                          color: #475569;
                          display: flex;
                          align-items: center;
                          justify-content: space-between;
                          transition: all 0.3s;
                        "
                      >
                        <span>üìã View Full Inclusions & Rooms</span>
                        <i
                          class="fas fa-external-link-alt"
                          style="font-size: 0.9em"
                        ></i>
                      </button>
                      <div
                        class="inclusions-content"
                        id="inclusions-venue"
                        style="display: none"
                      >
                        <h4>Perfect For:</h4>
                        <ul
                          style="
                            text-align: left;
                            padding-left: 20px;
                            margin: 15px 0;
                            font-size: 0.9em;
                          "
                        >
                          <li>üéâ Birthday Parties</li>
                          <li>üíç Wedding Receptions</li>
                          <li>üéä Corporate Events</li>
                          <li>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Family Reunions</li>
                          <li>üéì Graduation Celebrations</li>
                          <li>üéà Any Special Occasion</li>
                        </ul>
                        <h4 style="margin-top: 20px">Inclusions:</h4>
                        <ul
                          style="
                            text-align: left;
                            padding-left: 20px;
                            margin: 15px 0;
                            font-size: 0.9em;
                          "
                        >
                          <li>
                            Free unlimited use of videoke until 10:00 PM only
                          </li>
                          <li>Full access to all amenities</li>
                          <li>Access to barbecue area</li>
                          <li>Free WiFi and purified water</li>
                        </ul>
                        <h4 style="margin-top: 15px; font-size: 0.95em">
                          Pricing Options:
                        </h4>
                        <div
                          style="
                            background: #f8f9fa;
                            padding: 10px;
                            border-radius: 6px;
                            margin: 10px 0;
                          "
                        >
                          <div
                            style="
                              display: grid;
                              grid-template-columns: repeat(3, 1fr);
                              gap: 6px;
                              text-align: center;
                            "
                          >
                            <div
                              style="
                                padding: 6px;
                                background: white;
                                border-radius: 4px;
                                border: 2px solid #ffd93d;
                              "
                            >
                              <strong style="color: #f59e0b; font-size: 0.75em"
                                >Daytime</strong
                              >
                              <div
                                style="
                                  font-size: 0.95em;
                                  font-weight: bold;
                                  color: #1e293b;
                                  margin-top: 2px;
                                "
                              >
                                ‚Ç±6,000
                              </div>
                              <div style="font-size: 0.65em; color: #64748b">
                                9AM - 5PM
                              </div>
                            </div>
                            <div
                              style="
                                padding: 6px;
                                background: white;
                                border-radius: 4px;
                                border: 2px solid #667eea;
                              "
                            >
                              <strong style="color: #667eea; font-size: 0.75em"
                                >Nighttime</strong
                              >
                              <div
                                style="
                                  font-size: 0.95em;
                                  font-weight: bold;
                                  color: #1e293b;
                                  margin-top: 2px;
                                "
                              >
                                ‚Ç±10,000
                              </div>
                              <div style="font-size: 0.65em; color: #64748b">
                                7PM - 7AM
                              </div>
                            </div>
                            <div
                              style="
                                padding: 6px;
                                background: white;
                                border-radius: 4px;
                                border: 2px solid #f093fb;
                              "
                            >
                              <strong style="color: #f093fb; font-size: 0.75em"
                                >22 Hours</strong
                              >
                              <div
                                style="
                                  font-size: 0.95em;
                                  font-weight: bold;
                                  color: #1e293b;
                                  margin-top: 2px;
                                "
                              >
                                ‚Ç±18,000
                              </div>
                              <div style="font-size: 0.65em; color: #64748b">
                                2PM - 12NN
                              </div>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Rooms:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Triangle 1.jpg"
                              alt="Triangle Room 1"
                            />
                            <div class="room-info">
                              <span class="room-name">Triangle Room 1</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Triangle 2.jpg"
                              alt="Triangle Room 2"
                            />
                            <div class="room-info">
                              <span class="room-name">Triangle Room 2</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room Under Pool.jpg"
                              alt="Room Under the Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Room Under Pool</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Kubo Room.jpg"
                              alt="Kubo Room"
                            />
                            <div class="room-info">
                              <span class="room-name">Kubo Room</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Aircon Room - Capacity of 12 to 15  with CR.jpg"
                              alt="Aircon Room"
                            />
                            <div class="room-info">
                              <span class="room-name">Aircon Room</span>
                              <span class="room-features">12-15 pax</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Rooms/Room with VideoOke.jpg"
                              alt="Room with Videoke"
                            />
                            <div class="room-info">
                              <span class="room-name">Room with Videoke</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Swimming Pools:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Swimming Pools/Big Pool.jpg"
                              alt="Big Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Big Pool</span>
                              <span class="room-features">Access included</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Swimming Pools/Jacuzzi Pool.jpg"
                              alt="Jacuzzi Pool"
                            />
                            <div class="room-info">
                              <span class="room-name">Jacuzzi Pool</span>
                              <span class="room-features">Access included</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Kitchen Areas:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Kitchen/Kitchen 1.jpg"
                              alt="Kitchen 1"
                            />
                            <div class="room-info">
                              <span class="room-name">Kitchen Area 1</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                          <div class="room-item">
                            <img
                              src="images/Kitchen/Kitchen 2.jpg"
                              alt="Kitchen 2"
                            />
                            <div class="room-info">
                              <span class="room-name">Kitchen Area 2</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                        </div>
                        <h4 style="margin-top: 20px">Barbecue Area:</h4>
                        <div class="room-list">
                          <div class="room-item">
                            <img
                              src="images/Barbecue Area/Barbeque Area.jpg"
                              alt="Barbecue Area"
                            />
                            <div class="room-info">
                              <span class="room-name">Barbecue Area</span>
                              <span class="room-features">Free use</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <button
                      class="select-package-btn"
                      onclick="openVenueTimeSelector()"
                      style="
                        background: linear-gradient(
                          135deg,
                          #f093fb 0%,
                          #f5576c 100%
                        );
                      "
                    >
                      Select Venue Package
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Step 2: Booking Details (was Step 3) -->
            <div class="booking-step" id="step2" style="display: none">
              <h2>Step 2: Complete Your Booking</h2>

              <!-- Selected Booking Summary -->
              <div class="selected-summary" id="selectedSummary">
                <h3>Your Selection:</h3>
                <div class="summary-grid">
                  <div class="summary-item">
                    <span class="label">Booking Type:</span>
                    <span class="value" id="summaryBookingType">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="label">Package:</span>
                    <span class="value" id="summaryPackage">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="label">Check-in:</span>
                    <span class="value" id="summaryCheckInTime">-</span>
                  </div>
                  <div class="summary-item">
                    <span class="label">Check-out:</span>
                    <span class="value" id="summaryCheckOutTime">-</span>
                  </div>
                </div>
              </div>

              <!-- Booking Form -->
              <form id="reservationForm" class="reservation-form">
                <div class="form-section">
                  <h3>Select Dates</h3>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="checkInDate">Check-in Date *</label>
                      <input
                        type="date"
                        id="checkInDate"
                        name="checkInDate"
                        required
                      />
                    </div>
                    <div class="form-group" id="durationGroup">
                      <label for="duration">Duration *</label>
                      <select id="duration" name="duration" required>
                        <option value="">Select duration</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="form-section">
                  <h3>Group Details</h3>
                  <div class="form-row">
                    <div class="form-group">
                      <label for="groupSize">Group Size *</label>
                      <select id="groupSize" name="groupSize" required>
                        <option value="">Select group size</option>
                        <option value="5-10">5-10 people</option>
                        <option value="11-20">11-20 people</option>
                        <option value="21-30">21-30 people</option>
                        <option value="31-40">31-40 people</option>
                        <option value="41-50">41-50 people</option>
                        <option value="50+">50+ people</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label for="groupType">Group Type *</label>
                      <select id="groupType" name="groupType" required>
                        <option value="">Select type</option>
                        <option value="family">Family Reunion</option>
                        <option value="friends">Friends Getaway</option>
                        <option value="corporate">Corporate Event</option>
                        <option value="celebration">Special Celebration</option>
                        <option value="other">Other</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="specialRequests"
                      >Special Requests (Optional)</label
                    >
                    <textarea
                      id="specialRequests"
                      name="specialRequests"
                      rows="3"
                      placeholder="Any special requests, dietary requirements, or additional services needed..."
                    ></textarea>
                  </div>
                </div>

                <!-- Price Summary -->
                <div class="price-summary">
                  <h3>Price Breakdown</h3>
                  <div class="price-row">
                    <span>Base Price:</span>
                    <span id="priceBase">‚Ç±0.00</span>
                  </div>
                  <div class="price-row">
                    <span>Duration:</span>
                    <span id="priceDuration">0 day(s)</span>
                  </div>
                  <div class="price-row total">
                    <span>Total Amount:</span>
                    <span id="priceTotal">‚Ç±0.00</span>
                  </div>
                  <div class="price-row downpayment">
                    <span>50% Downpayment Required:</span>
                    <span id="priceDownpayment">‚Ç±0.00</span>
                  </div>
                  <div class="price-row">
                    <span>Remaining Balance:</span>
                    <span id="priceBalance">‚Ç±0.00</span>
                  </div>
                  <div class="price-row security">
                    <span>Security Bond (at check-in):</span>
                    <span>‚Ç±2,000.00</span>
                  </div>
                </div>

                <!-- Payment Method -->
                <div class="form-section">
                  <h3>Payment Method</h3>
                  <div class="payment-methods">
                    <label class="payment-option">
                      <input
                        type="radio"
                        name="paymentMethod"
                        value="gcash"
                        required
                      />
                      <div class="payment-card">
                        <i class="fas fa-mobile-alt"></i>
                        <span>GCash</span>
                        <small>Pay via GCash</small>
                      </div>
                    </label>
                    <label class="payment-option">
                      <input
                        type="radio"
                        name="paymentMethod"
                        value="otc"
                        required
                      />
                      <div class="payment-card">
                        <i class="fas fa-store"></i>
                        <span>Over the Counter</span>
                        <small>Pay at resort</small>
                      </div>
                    </label>
                  </div>
                </div>

                <!-- Terms and Conditions -->
                <div class="form-section">
                  <label class="checkbox-label">
                    <input
                      type="checkbox"
                      id="agreeTerms"
                      name="agreeTerms"
                      required
                    />
                    <span
                      >I agree to the
                      <a href="#" onclick="showBookingPolicy(); return false;"
                        >booking policies</a
                      >
                      and house rules</span
                    >
                  </label>
                </div>

                <!-- Form Actions -->
                <div class="booking-actions">
                  <button
                    type="button"
                    class="btn-back"
                    onclick="goBackToRooms()"
                  >
                    <i class="fas fa-arrow-left"></i> Back
                  </button>
                  <button type="submit" class="btn-submit">
                    <i class="fas fa-check"></i> Submit Reservation
                  </button>
                </div>
              </form>
            </div>
          </div>

          <!-- Booking Details & Payment Content -->
          <div class="content-section" id="booking-details-section">
            <!-- Selected Room Info -->
            <div class="selected-room-info" id="selectedRoomInfo">
              <!-- Room info will be populated by JavaScript -->
            </div>

            <!-- Booking Details Form -->
            <div class="booking-form">
              <!-- All booking form content will be here -->
              <div class="exclusive-access-section">
                <h3>üèñÔ∏è Exclusive Resort Access for Your Group</h3>
                <p class="exclusive-description">
                  Book the entire resort exclusively for your family or group of
                  friends! Enjoy complete privacy with access to all pools,
                  facilities, and accommodations.
                </p>

                <div class="reservation-types">
                  <div class="reservation-type-option" data-type="whole-day">
                    <input
                      type="radio"
                      id="wholeDay"
                      name="reservationType"
                      value="whole-day"
                      required
                    />
                    <label for="wholeDay" class="reservation-type-label">
                      <div class="reservation-type-icon day-use">
                        <i class="fas fa-sun"></i>
                      </div>
                      <div class="reservation-type-info">
                        <h4>Whole Day Access</h4>
                        <p>8:00 AM - 10:00 PM exclusive resort access</p>
                        <p class="access-details">
                          üèä‚Äç‚ôÇÔ∏è All pools ‚Ä¢ üè° Day rooms ‚Ä¢ üçΩÔ∏è BBQ areas
                        </p>
                        <span class="reservation-type-price"
                          >‚Ç±15,000 per day</span
                        >
                      </div>
                    </label>
                  </div>

                  <div class="reservation-type-option" data-type="overnight">
                    <input
                      type="radio"
                      id="overnight"
                      name="reservationType"
                      value="overnight"
                      required
                    />
                    <label for="overnight" class="reservation-type-label">
                      <div class="reservation-type-icon overnight">
                        <i class="fas fa-moon"></i>
                      </div>
                      <div class="reservation-type-info">
                        <h4>Overnight Exclusive</h4>
                        <p>
                          24-hour exclusive resort access with accommodation
                        </p>
                        <p class="access-details">
                          üèä‚Äç‚ôÇÔ∏è All pools ‚Ä¢ üõèÔ∏è All rooms ‚Ä¢ üçΩÔ∏è Kitchen access
                        </p>
                        <span class="reservation-type-price"
                          >‚Ç±25,000 per night</span
                        >
                      </div>
                    </label>
                  </div>
                </div>
              </div>

              <!-- Duration and Date Selection -->
              <div
                class="duration-selection-section"
                id="durationSelectionSection"
                style="display: none"
              >
                <div class="form-row" id="wholeDayRow" style="display: none">
                  <div class="form-group">
                    <label for="startDate">Start Date</label>
                    <input type="date" id="startDate" required />
                  </div>
                  <div class="form-group">
                    <label for="numberOfDays">How many days?</label>
                    <select id="numberOfDays" required>
                      <option value="">Select duration</option>
                      <option value="1">1 Day</option>
                      <option value="2">2 Days</option>
                      <option value="3">3 Days</option>
                      <option value="4">4 Days</option>
                      <option value="5">5 Days</option>
                      <option value="6">6 Days</option>
                      <option value="7">1 Week</option>
                    </select>
                  </div>
                </div>

                <div class="form-row" id="overnightRow" style="display: none">
                  <div class="form-group">
                    <label for="checkInDate">Check-in Date</label>
                    <input type="date" id="checkInDate" required />
                  </div>
                  <div class="form-group">
                    <label for="numberOfNights">How many nights?</label>
                    <select id="numberOfNights" required>
                      <option value="">Select duration</option>
                      <option value="1">1 Night</option>
                      <option value="2">2 Nights</option>
                      <option value="3">3 Nights</option>
                      <option value="4">4 Nights</option>
                      <option value="5">5 Nights</option>
                      <option value="6">6 Nights</option>
                      <option value="7">1 Week</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Group Details -->
              <div
                class="group-details-section"
                id="groupDetailsSection"
                style="display: none"
              >
                <div class="form-row">
                  <div class="form-group">
                    <label for="groupSize">Total Group Size</label>
                    <select id="groupSize" required>
                      <option value="">Select group size</option>
                      <option value="5-10">5-10 people</option>
                      <option value="11-20">11-20 people</option>
                      <option value="21-30">21-30 people</option>
                      <option value="31-40">31-40 people</option>
                      <option value="41-50">41-50 people</option>
                      <option value="50+">50+ people</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label for="groupType">Group Type</label>
                    <select id="groupType" required>
                      <option value="">Select type</option>
                      <option value="family">Family Reunion</option>
                      <option value="friends">Friends Getaway</option>
                      <option value="corporate">Corporate Event</option>
                      <option value="celebration">Special Celebration</option>
                      <option value="other">Other</option>
                    </select>
                  </div>
                </div>

                <div class="form-group">
                  <label for="specialRequests"
                    >Special Requests (Optional)</label
                  >
                  <textarea
                    id="specialRequests"
                    placeholder="Any special requests, dietary requirements, or additional services needed..."
                  ></textarea>
                </div>
              </div>

              <div class="booking-summary">
                <div class="summary-item">
                  <span>Room Type:</span>
                  <span id="summaryRoom">-</span>
                </div>
                <div class="summary-item">
                  <span>Price per night:</span>
                  <span id="summaryPrice">-</span>
                </div>
                <div class="summary-item">
                  <span>Number of nights:</span>
                  <span id="summaryNights">-</span>
                </div>
                <div class="summary-item total">
                  <span>Total Amount:</span>
                  <span id="summaryTotal">-</span>
                </div>
              </div>

              <!-- Payment Method Selection -->
              <div class="payment-method-section">
                <h3>Select Payment Method</h3>
                <div class="payment-methods">
                  <div class="payment-option" data-method="gcash">
                    <input
                      type="radio"
                      id="gcash"
                      name="paymentMethod"
                      value="gcash"
                      required
                    />
                    <label for="gcash" class="payment-label">
                      <div class="payment-icon gcash">
                        <i class="fas fa-mobile-alt"></i>
                      </div>
                      <div class="payment-info">
                        <h4>GCash</h4>
                        <p>Pay using your GCash wallet</p>
                        <span class="payment-badge">Online</span>
                      </div>
                    </label>
                  </div>

                  <div class="payment-option" data-method="otc">
                    <input
                      type="radio"
                      id="otc"
                      name="paymentMethod"
                      value="otc"
                      required
                    />
                    <label for="otc" class="payment-label">
                      <div class="payment-icon otc">
                        <i class="fas fa-store"></i>
                      </div>
                      <div class="payment-info">
                        <h4>Over the Counter</h4>
                        <p>Pay at the resort reception</p>
                        <span class="payment-badge">On-site</span>
                      </div>
                    </label>
                  </div>
                </div>

                <!-- Payment Instructions -->
                <div
                  class="payment-instructions"
                  id="paymentInstructions"
                  style="display: none"
                >
                  <!-- GCash Instructions -->
                  <div
                    class="instruction-content"
                    id="gcashInstructions"
                    style="display: none"
                  >
                    <h4>
                      <i class="fas fa-mobile-alt"></i> GCash Payment
                      Instructions
                    </h4>
                    <div class="gcash-details">
                      <p><strong>Send payment to:</strong></p>
                      <div class="gcash-info">
                        <span class="gcash-number">0917-123-4567</span>
                        <span class="gcash-name"
                          >AR Homes Posadas Farm Resort</span
                        >
                      </div>
                      <p>
                        <strong>Important:</strong> Please include your booking
                        reference in the message.
                      </p>
                      <div class="qr-code-section">
                        <p>Or scan QR code:</p>
                        <div class="qr-placeholder">
                          <i class="fas fa-qrcode"></i>
                          <span>QR Code</span>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- OTC Instructions -->
                  <div
                    class="instruction-content"
                    id="otcInstructions"
                    style="display: none"
                  >
                    <h4>
                      <i class="fas fa-store"></i> Over the Counter Payment
                    </h4>
                    <div class="otc-details">
                      <p><strong>Payment Location:</strong></p>
                      <address>
                        AR Homes Posadas Farm Resort<br />
                        Reception Desk<br />
                        Posadas, Bohol, Philippines
                      </address>
                      <p><strong>Office Hours:</strong></p>
                      <ul>
                        <li>Monday - Sunday: 8:00 AM - 6:00 PM</li>
                        <li>Check-in: 2:00 PM onwards</li>
                        <li>Check-out: Until 12:00 PM</li>
                      </ul>
                      <p>
                        <strong>Note:</strong> Please bring your booking
                        confirmation and valid ID.
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="booking-actions">
                <button
                  type="button"
                  class="btn-back"
                  onclick="goBackToRooms()"
                >
                  Back to Rooms
                </button>
                <button
                  type="button"
                  class="btn-proceed"
                  onclick="proceedToPayment()"
                >
                  Complete Booking
                </button>
              </div>
            </div>
          </div>

          <!-- Promotions Content -->
          <div class="content-section" id="promotions-section">
            <div class="promotions-grid">
              <div class="promo-card featured">
                <div class="promo-ribbon">Featured</div>
                <div class="promo-header">
                  <div class="promo-icon">
                    <i class="fas fa-clock"></i>
                  </div>
                  <h4>Early Bird Special</h4>
                </div>
                <div class="promo-content">
                  <div class="discount">25% OFF</div>
                  <p>
                    Book 30 days in advance and save big on your next getaway!
                  </p>
                  <div class="promo-details">
                    <span
                      ><i class="fas fa-calendar"></i> Valid until Dec 31,
                      2025</span
                    >
                    <span><i class="fas fa-tag"></i> Code: EARLYBIRD25</span>
                  </div>
                </div>
                <button class="promo-btn">
                  <i class="fas fa-ticket-alt"></i>
                  Apply Promo
                </button>
              </div>
              <div class="promo-card">
                <div class="promo-header">
                  <div class="promo-icon weekend">
                    <i class="fas fa-moon"></i>
                  </div>
                  <h4>Weekend Escape</h4>
                </div>
                <div class="promo-content">
                  <div class="discount">20% OFF</div>
                  <p>Perfect for weekend warriors! Book Friday-Sunday stays.</p>
                  <div class="promo-details">
                    <span
                      ><i class="fas fa-calendar"></i> Valid weekends only</span
                    >
                    <span><i class="fas fa-tag"></i> Code: WEEKEND20</span>
                  </div>
                </div>
                <button class="promo-btn">
                  <i class="fas fa-ticket-alt"></i>
                  Apply Promo
                </button>
              </div>
              <div class="promo-card">
                <div class="promo-header">
                  <div class="promo-icon family">
                    <i class="fas fa-users"></i>
                  </div>
                  <h4>Family Fun Package</h4>
                </div>
                <div class="promo-content">
                  <div class="discount">30% OFF</div>
                  <p>
                    Special rates for families with children under 12. Includes
                    breakfast!
                  </p>
                  <div class="promo-details">
                    <span><i class="fas fa-child"></i> Children under 12</span>
                    <span><i class="fas fa-tag"></i> Code: FAMILY30</span>
                  </div>
                </div>
                <button class="promo-btn">
                  <i class="fas fa-ticket-alt"></i>
                  Apply Promo
                </button>
              </div>
              <div class="promo-card exclusive">
                <div class="promo-ribbon exclusive">VIP Only</div>
                <div class="promo-header">
                  <div class="promo-icon vip">
                    <i class="fas fa-crown"></i>
                  </div>
                  <h4>VIP Members Exclusive</h4>
                </div>
                <div class="promo-content">
                  <div class="discount">40% OFF</div>
                  <p>
                    Exclusive VIP member rates with premium amenities included.
                  </p>
                  <div class="promo-details">
                    <span><i class="fas fa-star"></i> VIP Members Only</span>
                    <span><i class="fas fa-tag"></i> Code: VIP40</span>
                  </div>
                </div>
                <button class="promo-btn exclusive">
                  <i class="fas fa-star"></i>
                  Claim VIP Rate
                </button>
              </div>
            </div>

            <!-- Promo Code Section -->
            <div class="promo-code-section">
              <h3>Have a Promo Code?</h3>
              <div class="promo-code-input">
                <input
                  type="text"
                  placeholder="Enter your promo code"
                  id="promoCodeInput"
                />
                <button type="button" onclick="validatePromoCode()">
                  <i class="fas fa-check"></i>
                  Apply
                </button>
              </div>
            </div>
          </div>

          <!-- Profile Content -->
          <div class="content-section" id="profile-section">
            <div class="profile-form-container">
              <form class="profile-form" id="profileForm">
                <h3 style="margin-bottom: 20px; color: #2c3e50">
                  <i class="fas fa-user-circle"></i> Personal Information
                </h3>

                <div class="form-row">
                  <div class="form-group">
                    <label for="profileGivenName">
                      <i class="fas fa-user"></i> Given Name
                    </label>
                    <input
                      type="text"
                      id="profileGivenName"
                      name="givenName"
                      placeholder="Given Name"
                      readonly
                    />
                  </div>
                  <div class="form-group">
                    <label for="profileMiddleName">
                      <i class="fas fa-user"></i> Middle Name
                    </label>
                    <input
                      type="text"
                      id="profileMiddleName"
                      name="middleName"
                      placeholder="Middle Name"
                      readonly
                    />
                  </div>
                </div>

                <div class="form-group">
                  <label for="profileLastName">
                    <i class="fas fa-user"></i> Last Name
                  </label>
                  <input
                    type="text"
                    id="profileLastName"
                    name="lastName"
                    placeholder="Last Name"
                    readonly
                  />
                </div>

                <div class="form-group">
                  <label for="profileUsername">
                    <i class="fas fa-user-tag"></i> Username
                  </label>
                  <input
                    type="text"
                    id="profileUsername"
                    name="username"
                    placeholder="Username"
                    readonly
                  />
                </div>

                <div class="form-group">
                  <label for="profileEmail">
                    <i class="fas fa-envelope"></i> Email Address
                  </label>
                  <input
                    type="email"
                    id="profileEmail"
                    name="email"
                    placeholder="Email"
                    readonly
                  />
                </div>

                <div class="form-group">
                  <label for="profilePhone">
                    <i class="fas fa-phone"></i> Phone Number
                  </label>
                  <input
                    type="tel"
                    id="profilePhone"
                    name="phone"
                    placeholder="Phone Number"
                    readonly
                  />
                </div>

                <div
                  class="form-group"
                  style="
                    background: #f8f9fa;
                    padding: 15px;
                    border-radius: 8px;
                    border: 1px solid #e9ecef;
                  "
                >
                  <p style="margin: 0; color: #6c757d; font-size: 14px">
                    <i class="fas fa-info-circle"></i>
                    <strong>Note:</strong> Profile information is currently
                    read-only. Contact support to update your details.
                  </p>
                </div>
              </form>
            </div>
          </div>

          <!-- My Bookings Section (Active Reservations) -->
          <div class="content-section" id="my-bookings-section">
            <div class="section-header-inline">
              <h2><i class="fas fa-clipboard-list"></i> My Bookings</h2>
              <button class="btn-primary" onclick="loadMyBookings()">
                <i class="fas fa-sync"></i> Refresh
              </button>
            </div>

            <!-- Loading State -->
            <div
              id="bookingsLoadingState"
              style="text-align: center; padding: 40px"
            >
              <i
                class="fas fa-spinner fa-spin"
                style="font-size: 48px; color: #667eea"
              ></i>
              <p style="margin-top: 20px; color: #6c757d">
                Loading your bookings...
              </p>
            </div>

            <!-- Bookings Grid -->
            <div
              id="myBookingsGrid"
              class="bookings-grid"
              style="display: none"
            ></div>

            <!-- Empty State -->
            <div
              id="bookingsEmptyState"
              style="display: none; text-align: center; padding: 60px 20px"
            >
              <i
                class="fas fa-calendar-times"
                style="font-size: 64px; color: #ddd"
              ></i>
              <h3 style="margin-top: 20px; color: #6c757d">
                No Bookings Found
              </h3>
              <p style="color: #adb5bd">You don't have any reservations yet.</p>
              <button
                class="btn-primary"
                onclick="quickAction('book')"
                style="margin-top: 20px"
              >
                <i class="fas fa-calendar-plus"></i> Make a Reservation
              </button>
            </div>
          </div>

          <!-- Booking History Section -->
          <div class="content-section" id="bookings-history-section">
            <div class="section-header-inline">
              <h2><i class="fas fa-history"></i> Booking History</h2>
              <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="pending">
                  Pending
                </button>
                <button class="filter-btn" data-filter="confirmed">
                  Confirmed
                </button>
                <button class="filter-btn" data-filter="completed">
                  Completed
                </button>
                <button class="filter-btn" data-filter="cancelled">
                  Cancelled
                </button>
              </div>
            </div>
            <div class="search-filter-section">
              <div class="search-box">
                <i class="fas fa-search"></i>
                <input
                  type="text"
                  id="bookingSearch"
                  placeholder="Search bookings..."
                />
              </div>
              <select id="sortBookings" class="sort-select">
                <option value="date-desc">Date (Newest)</option>
                <option value="date-asc">Date (Oldest)</option>
                <option value="price-desc">Price (High to Low)</option>
                <option value="price-asc">Price (Low to High)</option>
              </select>
            </div>
            <div class="bookings-history-grid">
              <div class="booking-history-card" data-status="completed">
                <div class="booking-card-header">
                  <span class="status-badge completed">Completed</span>
                  <span class="booking-date">Nov 10-13, 2025</span>
                </div>
                <div class="booking-card-body">
                  <h4>Family Suite Package</h4>
                  <div class="booking-details">
                    <span><i class="fas fa-users"></i> 6 Guests</span>
                    <span><i class="fas fa-moon"></i> 3 Nights</span>
                    <span><i class="fas fa-tag"></i> ‚Ç±36,000</span>
                  </div>
                </div>
                <div class="booking-card-actions">
                  <button
                    class="btn-secondary"
                    onclick="viewBookingDetails('BK001')"
                  >
                    <i class="fas fa-eye"></i> View Details
                  </button>
                  <button class="btn-primary" onclick="leaveReview('BK001')">
                    <i class="fas fa-star"></i> Write Review
                  </button>
                  <button
                    class="btn-primary"
                    onclick="bookAgain('family-suite')"
                  >
                    <i class="fas fa-redo"></i> Book Again
                  </button>
                </div>
              </div>
              <div class="booking-history-card" data-status="confirmed">
                <div class="booking-card-header">
                  <span class="status-badge confirmed">Confirmed</span>
                  <span class="booking-date">Dec 20-23, 2025</span>
                </div>
                <div class="booking-card-body">
                  <h4>VIP Suite Package</h4>
                  <div class="booking-details">
                    <span><i class="fas fa-users"></i> 2 Guests</span>
                    <span><i class="fas fa-moon"></i> 3 Nights</span>
                    <span><i class="fas fa-tag"></i> ‚Ç±75,000</span>
                  </div>
                </div>
                <div class="booking-card-actions">
                  <button
                    class="btn-secondary"
                    onclick="viewBookingDetails('BK002')"
                  >
                    <i class="fas fa-eye"></i> View Details
                  </button>
                  <button class="btn-warning" onclick="modifyBooking('BK002')">
                    <i class="fas fa-edit"></i> Modify
                  </button>
                  <button class="btn-danger" onclick="cancelBooking('BK002')">
                    <i class="fas fa-times"></i> Cancel
                  </button>
                </div>
              </div>
              <div class="booking-history-card" data-status="pending">
                <div class="booking-card-header">
                  <span class="status-badge pending">Pending</span>
                  <span class="booking-date">Jan 15-19, 2026</span>
                </div>
                <div class="booking-card-body">
                  <h4>Deluxe Ocean View</h4>
                  <div class="booking-details">
                    <span><i class="fas fa-users"></i> 4 Guests</span>
                    <span><i class="fas fa-moon"></i> 4 Nights</span>
                    <span><i class="fas fa-tag"></i> ‚Ç±48,000</span>
                  </div>
                  <div class="pending-notice">
                    <i class="fas fa-info-circle"></i>
                    <span>Awaiting payment confirmation</span>
                  </div>
                </div>
                <div class="booking-card-actions">
                  <button
                    class="btn-primary"
                    onclick="completePayment('BK003')"
                  >
                    <i class="fas fa-credit-card"></i> Complete Payment
                  </button>
                  <button class="btn-danger" onclick="cancelBooking('BK003')">
                    <i class="fas fa-times"></i> Cancel
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Notifications Section -->
          <div class="content-section" id="notifications-section">
            <div class="section-header-inline">
              <h2><i class="fas fa-bell"></i> Notifications</h2>
              <button class="btn-text" onclick="markAllAsRead()">
                <i class="fas fa-check-double"></i> Mark all as read
              </button>
            </div>
            <div class="notifications-list" id="notificationsList">
              <!-- Notifications will be loaded dynamically from database -->
              <div style="text-align: center; padding: 40px; color: #999">
                <i
                  class="fas fa-spinner fa-spin"
                  style="font-size: 32px; margin-bottom: 10px"
                ></i>
                <p>Loading notifications...</p>
              </div>
            </div>
          </div>

          <!-- Rewards Section -->
          <div class="content-section" id="rewards-section">
            <div class="loyalty-header">
              <h2><i class="fas fa-trophy"></i> Loyalty Rewards Program</h2>
              <div class="loyalty-tier">
                <span class="tier-badge gold">GOLD MEMBER</span>
              </div>
            </div>
            <div class="rewards-overview">
              <div class="points-card">
                <div class="points-content">
                  <h3>Your Points</h3>
                  <div class="points-display">2,500</div>
                  <div class="points-progress">
                    <div class="progress-bar">
                      <div class="progress-fill" style="width: 50%"></div>
                    </div>
                    <span>500 points to Platinum Tier</span>
                  </div>
                </div>
                <div class="points-icon">
                  <i class="fas fa-coins"></i>
                </div>
              </div>
              <div class="tier-benefits">
                <h3>Gold Member Benefits</h3>
                <ul class="benefits-list">
                  <li>
                    <i class="fas fa-check-circle"></i> 15% discount on all
                    bookings
                  </li>
                  <li><i class="fas fa-check-circle"></i> Priority check-in</li>
                  <li>
                    <i class="fas fa-check-circle"></i> Free room upgrades
                    (subject to availability)
                  </li>
                  <li>
                    <i class="fas fa-check-circle"></i> Complimentary breakfast
                  </li>
                  <li>
                    <i class="fas fa-check-circle"></i> Late check-out until 2
                    PM
                  </li>
                </ul>
              </div>
            </div>
            <div class="rewards-redemption">
              <h3>Redeem Your Points</h3>
              <div class="redemption-grid">
                <div class="redemption-card">
                  <div class="redemption-icon">
                    <i class="fas fa-percent"></i>
                  </div>
                  <h4>10% Discount Voucher</h4>
                  <p>Valid for 30 days</p>
                  <div class="redemption-cost">500 points</div>
                  <button
                    class="btn-primary"
                    onclick="redeemReward(500, 'voucher10')"
                  >
                    Redeem
                  </button>
                </div>
                <div class="redemption-card">
                  <div class="redemption-icon">
                    <i class="fas fa-spa"></i>
                  </div>
                  <h4>Free Spa Session</h4>
                  <p>60 minutes massage</p>
                  <div class="redemption-cost">1,000 points</div>
                  <button
                    class="btn-primary"
                    onclick="redeemReward(1000, 'spa')"
                  >
                    Redeem
                  </button>
                </div>
                <div class="redemption-card">
                  <div class="redemption-icon">
                    <i class="fas fa-utensils"></i>
                  </div>
                  <h4>Restaurant Voucher</h4>
                  <p>‚Ç±1,000 dining credit</p>
                  <div class="redemption-cost">800 points</div>
                  <button
                    class="btn-primary"
                    onclick="redeemReward(800, 'dining')"
                  >
                    Redeem
                  </button>
                </div>
                <div class="redemption-card premium">
                  <div class="redemption-icon">
                    <i class="fas fa-bed"></i>
                  </div>
                  <h4>Free Night Stay</h4>
                  <p>Standard room</p>
                  <div class="redemption-cost">3,000 points</div>
                  <button
                    class="btn-primary"
                    onclick="redeemReward(3000, 'freenight')"
                    disabled
                  >
                    Redeem
                  </button>
                </div>
              </div>
            </div>
            <div class="points-history">
              <h3>Points History</h3>
              <div class="history-list">
                <div class="history-item earned">
                  <div class="history-icon">
                    <i class="fas fa-plus-circle"></i>
                  </div>
                  <div class="history-content">
                    <span class="history-title">Booking Completed</span>
                    <span class="history-date">Nov 13, 2025</span>
                  </div>
                  <div class="history-points">+500</div>
                </div>
                <div class="history-item redeemed">
                  <div class="history-icon">
                    <i class="fas fa-minus-circle"></i>
                  </div>
                  <div class="history-content">
                    <span class="history-title">Spa Voucher Redeemed</span>
                    <span class="history-date">Nov 5, 2025</span>
                  </div>
                  <div class="history-points">-1000</div>
                </div>
                <div class="history-item earned">
                  <div class="history-icon">
                    <i class="fas fa-plus-circle"></i>
                  </div>
                  <div class="history-content">
                    <span class="history-title">Review Bonus</span>
                    <span class="history-date">Oct 20, 2025</span>
                  </div>
                  <div class="history-points">+100</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Reviews Section -->
          <div class="content-section" id="reviews-section">
            <div class="section-header-inline">
              <h2><i class="fas fa-star"></i> My Reviews</h2>
              <button class="btn-primary" onclick="writeNewReview()">
                <i class="fas fa-pen"></i> Write a Review
              </button>
            </div>
            <div class="reviews-stats">
              <div class="review-stat">
                <div class="stat-value">4.8</div>
                <div class="stat-label">Average Rating Given</div>
              </div>
              <div class="review-stat">
                <div class="stat-value">8</div>
                <div class="stat-label">Total Reviews</div>
              </div>
              <div class="review-stat">
                <div class="stat-value">12</div>
                <div class="stat-label">Helpful Votes</div>
              </div>
            </div>
            <div class="reviews-list">
              <div class="review-card">
                <div class="review-header">
                  <div class="review-info">
                    <h4>Family Suite Package</h4>
                    <div class="review-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <span>5.0</span>
                    </div>
                  </div>
                  <span class="review-date">Nov 13, 2025</span>
                </div>
                <p class="review-text">
                  Amazing experience! The resort exceeded our expectations. The
                  staff was incredibly friendly and accommodating. The rooms
                  were spacious and clean. We especially loved the pool area and
                  the beautiful gardens. Will definitely come back!
                </p>
                <div class="review-photos">
                  <img
                    src="images/545601129_1082516497373944_2891607710179489901_n.jpg"
                    alt="Review photo"
                  />
                  <img
                    src="images/546182776_2167385133738763_7006991891791172725_n.jpg"
                    alt="Review photo"
                  />
                </div>
                <div class="review-footer">
                  <span class="helpful-count"
                    ><i class="fas fa-thumbs-up"></i> 5 found this helpful</span
                  >
                  <div class="review-actions">
                    <button class="btn-text" onclick="editReview('REV001')">
                      <i class="fas fa-edit"></i> Edit
                    </button>
                    <button
                      class="btn-text text-danger"
                      onclick="deleteReview('REV001')"
                    >
                      <i class="fas fa-trash"></i> Delete
                    </button>
                  </div>
                </div>
              </div>
              <div class="review-card">
                <div class="review-header">
                  <div class="review-info">
                    <h4>VIP Suite Weekend</h4>
                    <div class="review-rating">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="far fa-star"></i>
                      <span>4.0</span>
                    </div>
                  </div>
                  <span class="review-date">Oct 15, 2025</span>
                </div>
                <p class="review-text">
                  Great location and facilities. The VIP suite was luxurious and
                  comfortable. Only minor issue was the WiFi speed could be
                  better. Overall, a wonderful getaway spot for couples.
                </p>
                <div class="review-footer">
                  <span class="helpful-count"
                    ><i class="fas fa-thumbs-up"></i> 3 found this helpful</span
                  >
                  <div class="review-actions">
                    <button class="btn-text" onclick="editReview('REV002')">
                      <i class="fas fa-edit"></i> Edit
                    </button>
                    <button
                      class="btn-text text-danger"
                      onclick="deleteReview('REV002')"
                    >
                      <i class="fas fa-trash"></i> Delete
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Proof Upload Modal -->
    <div class="modal-overlay" id="paymentUploadModal" style="display: none">
      <div class="modal-container">
        <div class="modal-header">
          <h3><i class="fas fa-upload"></i> Upload Payment Proof</h3>
          <button class="modal-close" onclick="closePaymentUploadModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="paymentUploadForm" enctype="multipart/form-data">
            <input
              type="hidden"
              id="paymentReservationId"
              name="reservation_id"
            />
            <input type="hidden" id="paymentType" name="payment_type" />

            <div class="form-group">
              <label>Payment For:</label>
              <p
                id="paymentForLabel"
                style="color: #667eea; font-weight: 600"
              ></p>
            </div>

            <div class="form-group">
              <label for="paymentMethod">Payment Method *</label>
              <select id="paymentMethod" name="payment_method" required>
                <option value="">Select payment method</option>
                <option value="gcash">GCash</option>
                <option value="bank_transfer">Bank Transfer</option>
                <option value="online_banking">Online Banking</option>
                <option value="cash">Cash</option>
              </select>
            </div>

            <div class="form-group">
              <label for="referenceNumber">Reference Number *</label>
              <input
                type="text"
                id="referenceNumber"
                name="reference_number"
                placeholder="e.g., REF123456789"
                required
              />
            </div>

            <div class="form-group">
              <label for="paymentProofFile"
                >Payment Screenshot/Receipt * (Max 5MB)</label
              >
              <input
                type="file"
                id="paymentProofFile"
                name="payment_proof"
                accept="image/*,application/pdf"
                required
              />
              <small style="color: #6c757d; display: block; margin-top: 8px">
                <i class="fas fa-info-circle"></i> Accepted: JPG, PNG, GIF, PDF
                (Max 5MB)
              </small>
            </div>

            <div
              class="form-group"
              style="
                background: #f8f9fa;
                padding: 15px;
                border-radius: 8px;
                border-left: 4px solid #667eea;
              "
            >
              <p style="margin: 0; color: #495057; font-size: 14px">
                <i class="fas fa-exclamation-circle" style="color: #667eea"></i>
                <strong>Note:</strong> After uploading, your payment will be
                verified by our admin. You'll receive a confirmation once
                approved.
              </p>
            </div>

            <div class="modal-actions">
              <button
                type="button"
                class="btn-secondary"
                onclick="closePaymentUploadModal()"
              >
                <i class="fas fa-times"></i> Cancel
              </button>
              <button type="submit" class="btn-primary">
                <i class="fas fa-upload"></i> Upload Payment Proof
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Rebooking Request Modal -->
    <div class="modal-overlay" id="rebookingModal" style="display: none">
      <div class="modal-container">
        <div class="modal-header">
          <h3><i class="fas fa-calendar-alt"></i> Request Rebooking</h3>
          <button class="modal-close" onclick="closeRebookingModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="rebookingForm">
            <input
              type="hidden"
              id="rebookReservationId"
              name="reservation_id"
            />

            <div class="form-group">
              <label>Current Check-in Date:</label>
              <p
                id="currentCheckInDate"
                style="color: #667eea; font-weight: 600"
              ></p>
            </div>

            <div class="form-group">
              <label for="newCheckInDate">New Check-in Date *</label>
              <input type="date" id="newCheckInDate" name="new_date" required />
              <small style="color: #6c757d; display: block; margin-top: 8px">
                <i class="fas fa-info-circle"></i> Rebooking must be requested
                at least 7 days before your current check-in date.
              </small>
            </div>

            <div class="form-group">
              <label for="rebookReason">Reason for Rebooking *</label>
              <textarea
                id="rebookReason"
                name="reason"
                rows="4"
                placeholder="Please provide a reason for changing your reservation date..."
                required
              ></textarea>
            </div>

            <div
              class="form-group"
              style="
                background: #fff3cd;
                padding: 15px;
                border-radius: 8px;
                border-left: 4px solid #ffc107;
              "
            >
              <p style="margin: 0; color: #856404; font-size: 14px">
                <i class="fas fa-exclamation-triangle"></i>
                <strong>Rebooking Policy:</strong>
              </p>
              <ul style="margin: 10px 0 0 20px; color: #856404">
                <li>Must be requested 7+ days before check-in</li>
                <li>Requires admin approval</li>
                <li>No additional fees if approved</li>
                <li>Original payment will be transferred to new date</li>
              </ul>
            </div>

            <div class="modal-actions">
              <button
                type="button"
                class="btn-secondary"
                onclick="closeRebookingModal()"
              >
                <i class="fas fa-times"></i> Cancel
              </button>
              <button type="submit" class="btn-primary">
                <i class="fas fa-paper-plane"></i> Submit Request
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Package Inclusions Modal -->
    <div class="modal-overlay" id="inclusionsModal" style="display: none">
      <div class="modal-container" style="max-width: 900px">
        <div class="modal-header">
          <h3 id="inclusionsModalTitle">
            <i class="fas fa-list-check"></i> Package Details
          </h3>
          <button class="modal-close" onclick="closeInclusionsModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div
          class="modal-body"
          id="inclusionsModalContent"
          style="max-height: 70vh; overflow-y: auto"
        >
          <!-- Content will be dynamically inserted here -->
        </div>
      </div>
    </div>

    <!-- Image Lightbox Modal -->
    <div
      class="modal-overlay"
      id="imageLightbox"
      style="display: none; z-index: 10000; background: rgba(0, 0, 0, 0.9)"
      onclick="closeImageLightbox()"
    >
      <div
        style="
          position: relative;
          max-width: 95%;
          max-height: 95vh;
          display: flex;
          align-items: center;
          justify-content: center;
        "
        onclick="event.stopPropagation()"
      >
        <button
          onclick="closeImageLightbox()"
          style="
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10001;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
          "
          onmouseover="this.style.background='#fff'; this.style.transform='scale(1.15)'; this.style.boxShadow='0 4px 15px rgba(0,0,0,0.4)';"
          onmouseout="this.style.background='rgba(255,255,255,0.95)'; this.style.transform='scale(1)'; this.style.boxShadow='0 2px 10px rgba(0,0,0,0.3)';"
        >
          <i class="fas fa-times"></i>
        </button>
        <img
          id="lightboxImage"
          src=""
          alt=""
          style="
            max-width: 100%;
            max-height: 90vh;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            object-fit: contain;
          "
        />
      </div>
    </div>

    <!-- Cancellation Confirmation Modal -->
    <div class="modal-overlay" id="cancelModal" style="display: none">
      <div class="modal-container">
        <div class="modal-header">
          <h3>
            <i class="fas fa-exclamation-triangle"></i> Cancel Reservation
          </h3>
          <button class="modal-close" onclick="closeCancelModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <form id="cancelForm">
            <input
              type="hidden"
              id="cancelReservationId"
              name="reservation_id"
            />

            <div
              style="
                background: #fee;
                padding: 20px;
                border-radius: 8px;
                border-left: 4px solid #dc3545;
                margin-bottom: 20px;
              "
            >
              <p
                style="
                  margin: 0;
                  color: #721c24;
                  font-size: 16px;
                  font-weight: 600;
                "
              >
                <i class="fas fa-exclamation-circle"></i> Warning: This action
                cannot be undone
              </p>
              <ul style="margin: 15px 0 0 20px; color: #721c24">
                <li><strong>Your downpayment will NOT be refunded</strong></li>
                <li>The reservation will be cancelled immediately</li>
                <li>The date will be available for other guests</li>
              </ul>
            </div>

            <div class="form-group">
              <label for="cancelReason">Reason for Cancellation *</label>
              <textarea
                id="cancelReason"
                name="reason"
                rows="4"
                placeholder="Please tell us why you're cancelling..."
                required
              ></textarea>
            </div>

            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="acknowledgeNoRefund" required />
                <span>I understand that my downpayment is non-refundable</span>
              </label>
            </div>

            <div class="modal-actions">
              <button
                type="button"
                class="btn-secondary"
                onclick="closeCancelModal()"
              >
                <i class="fas fa-arrow-left"></i> Go Back
              </button>
              <button type="submit" class="btn-danger">
                <i class="fas fa-times-circle"></i> Confirm Cancellation
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Logout Popup -->
    <div class="logout-popup-overlay" id="logoutPopupOverlay">
      <div class="logout-popup">
        <div class="logout-popup-header">
          <h3>Confirm Logout</h3>
          <button class="logout-popup-close" onclick="hideLogoutPopup()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="logout-popup-body">
          <div class="logout-popup-icon">
            <i class="fas fa-sign-out-alt"></i>
          </div>
          <p>Are you sure you want to logout from your account?</p>
          <p class="logout-popup-subtext">
            You will be redirected to the login page.
          </p>
        </div>
        <div class="logout-popup-footer">
          <button class="logout-popup-btn cancel" onclick="hideLogoutPopup()">
            <i class="fas fa-times"></i>
            Cancel
          </button>
          <button class="logout-popup-btn confirm" onclick="confirmLogout()">
            <i class="fas fa-sign-out-alt"></i>
            Logout
          </button>
        </div>
      </div>
    </div>

    <!-- JavaScript - Session Check -->
    <script>
      console.log("üöÄ Session check executing...");

      // User data object - Make it global
      window.userData = {
        user_id: null,
        username: "Guest",
        email: "",
        full_name: "Guest User",
        given_name: "",
        middle_name: "",
        last_name: "",
        phone_number: "",
      };

      // Check authentication and load user data
      async function checkAuthAndLoadUser() {
        console.log("üîç Checking authentication...");

        try {
          const response = await fetch("user/get_session.php", {
            method: "GET",
            credentials: "same-origin",
            cache: "no-store",
          });

          console.log("üì° Response status:", response.status);
          const data = await response.json();
          console.log("üì¶ Session data:", data);

          if (data.success && data.authenticated && data.data) {
            console.log("‚úÖ User authenticated:", data.data);

            // Update userData object
            window.userData.user_id = data.data.user_id;
            window.userData.username = data.data.username || "Guest";
            window.userData.email = data.data.email || "";
            window.userData.full_name = data.data.full_name || "Guest User";
            window.userData.given_name = data.data.given_name || "";
            window.userData.middle_name = data.data.middle_name || "";
            window.userData.last_name = data.data.last_name || "";
            window.userData.phone_number = data.data.phone_number || "";

            // Update UI immediately
            updateUserInterface();
          } else {
            console.warn("‚ö†Ô∏è Not authenticated, redirecting...");
            window.location.href = "index.html";
          }
        } catch (error) {
          console.error("‚ùå Auth check failed:", error);
          window.location.href = "index.html";
        }
      }

      // Update user interface with userData
      function updateUserInterface() {
        console.log("üé® Updating UI with user data...");

        // Update header name and fade it in
        const userNameElement = document.getElementById("userName");
        if (userNameElement) {
          userNameElement.textContent = window.userData.full_name;
          userNameElement.style.opacity = "1";
          userNameElement.style.transition = "opacity 0.3s ease-in";
          console.log("‚úÖ Header updated:", window.userData.full_name);
        }

        // Update profile fields
        const profileFields = {
          profileGivenName: window.userData.given_name,
          profileMiddleName: window.userData.middle_name,
          profileLastName: window.userData.last_name,
          profileUsername: window.userData.username,
          profileEmail: window.userData.email,
          profilePhone: window.userData.phone_number,
        };

        for (const [fieldId, value] of Object.entries(profileFields)) {
          const element = document.getElementById(fieldId);
          if (element) {
            element.value = value || "";
            console.log(`‚úÖ ${fieldId} updated:`, value);
          }
        }

        // Refresh userData in dashboard-script.js if the function exists
        if (typeof window.refreshUserData === "function") {
          window.refreshUserData();
          console.log("‚úÖ Notified dashboard-script.js to refresh user data");
        }
      }

      // Initialize session check when DOM is ready
      document.addEventListener("DOMContentLoaded", async () => {
        console.log("üìÑ DOM loaded - checking session...");
        await checkAuthAndLoadUser();
      });
    </script>

    <!-- Navigation Script -->
    <script>
      // Simple navigation system for content sections
      document.addEventListener("DOMContentLoaded", function () {
        console.log("üéØ Setting up navigation...");

        // Get all navigation buttons
        const navButtons = document.querySelectorAll(".nav-btn");
        const contentSections = document.querySelectorAll(".content-section");

        console.log("Found nav buttons:", navButtons.length);
        console.log("Found content sections:", contentSections.length);

        // Add click handlers to navigation buttons
        navButtons.forEach((button) => {
          button.addEventListener("click", function (e) {
            e.preventDefault();
            const sectionName = this.getAttribute("data-section");
            console.log("Button clicked:", sectionName);

            // Remove active class from all buttons
            navButtons.forEach((btn) => btn.classList.remove("active"));

            // Add active class to clicked button
            this.classList.add("active");

            // Hide all content sections
            contentSections.forEach((section) => {
              section.classList.remove("active");
              section.style.display = "none";
            });

            // Show the selected content section
            const targetSection = document.getElementById(
              sectionName + "-section"
            );
            if (targetSection) {
              targetSection.classList.add("active");
              targetSection.style.display = "block";
              console.log("Showing section:", sectionName);

              // Load section-specific data
              if (
                sectionName === "bookings-history" &&
                typeof loadMyReservations === "function"
              ) {
                loadMyReservations();
              }
              if (
                sectionName === "notifications" &&
                typeof loadUserNotifications === "function"
              ) {
                loadUserNotifications();
              }
            } else {
              console.error("Section not found:", sectionName + "-section");
            }
          });
        });

        // Show dashboard section by default
        const dashboardSection = document.getElementById("dashboard-section");
        if (dashboardSection) {
          dashboardSection.style.display = "block";
        }
      });

      // Room package selection functions
      function selectRoomPackage(packageType, nightPrice, dayPrice) {
        console.log("Selected package:", packageType);
        // Add your package selection logic here
        alert(
          "Package selected: " +
            packageType +
            "\nNight: " +
            nightPrice +
            " | Day: " +
            dayPrice
        );
      }

      function selectCustomRooms() {
        console.log("Custom rooms selection");
        const checkboxes = document.querySelectorAll(
          'input[name="customRoom"]:checked'
        );
        if (checkboxes.length === 0) {
          alert("Please select at least one room");
          return;
        }
        alert("Custom package selected with " + checkboxes.length + " room(s)");
      }

      function goBackToRooms() {
        // Switch to reservations tab
        const reservationsBtn = document.querySelector(
          '[data-section="my-reservations"]'
        );
        if (reservationsBtn) {
          reservationsBtn.click();
        }
      }

      function proceedToPayment() {
        alert("Proceeding to payment...");
        // Add your payment logic here
      }

      function validatePromoCode() {
        const promoCode = document.getElementById("promoCodeInput").value;
        if (promoCode) {
          alert("Validating promo code: " + promoCode);
          // Add your validation logic here
        } else {
          alert("Please enter a promo code");
        }
      }

      // Toggle sidebar for mobile
      function toggleSidebar() {
        console.log("Toggle sidebar");
        // Add mobile sidebar toggle logic if needed
      }

      // Gallery button test - defined here to ensure it loads
      window.testButtons = function () {
        console.log("\nüîç TESTING GALLERY BUTTONS");
        const prev = document.getElementById("prevBtn");
        const next = document.getElementById("nextBtn");
        console.log("Prev button:", prev);
        console.log("Next button:", next);

        // Check parent visibility
        const gallery = document.querySelector(".resort-gallery-section");
        const galleryContainer = document.querySelector(".gallery-container");
        if (gallery) {
          const galleryStyle = window.getComputedStyle(gallery);
          console.log("Gallery section display:", galleryStyle.display);
          console.log("Gallery section visibility:", galleryStyle.visibility);
          console.log("Gallery section opacity:", galleryStyle.opacity);
        }

        if (next) {
          const rect = next.getBoundingClientRect();
          const style = window.getComputedStyle(next);
          console.log("Next button rect:", rect);
          console.log("Next button z-index:", style.zIndex);
          console.log("Next button pointer-events:", style.pointerEvents);
          console.log("Next button position:", style.position);

          // Check parent's z-index
          const parent = next.parentElement;
          if (parent) {
            const parentStyle = window.getComputedStyle(parent);
            console.log(
              "Parent (.gallery-controls) z-index:",
              parentStyle.zIndex
            );
            console.log("Parent pointer-events:", parentStyle.pointerEvents);
          }

          // Check what's at the center
          const x = rect.left + rect.width / 2;
          const y = rect.top + rect.height / 2;
          const el = document.elementFromPoint(x, y);
          console.log("Element at button center:", el);
          console.log("Is button or child?", el === next || next.contains(el));

          // Check all elements at that point
          const elements = [];
          let current = el;
          while (current) {
            elements.push(
              current.tagName +
                (current.className
                  ? "." + current.className.split(" ").join(".")
                  : "")
            );
            current = current.parentElement;
          }
          console.log("Element stack at button:", elements);

          // Try clicking
          console.log("Clicking next button...");
          next.click();
        }
      };
      console.log("‚úÖ testButtons() ready");
    </script>

    <!-- Load Dashboard Script (for additional functionality) -->
    <script src="dashboard-script.js"></script>

    <!-- Load Booking Flow Script -->
    <script src="booking-flow.js"></script>

    <!-- DEBUG: Test booking buttons -->
    <script>
      console.log(
        "%cüîß BUTTON DEBUG SCRIPT LOADED",
        "color: #FF5722; font-weight: bold; font-size: 14px;"
      );

      // Wait for DOM to be ready
      setTimeout(() => {
        console.log(
          "%cüìç Testing booking type buttons...",
          "color: #2196F3; font-weight: bold;"
        );

        // Check if function exists
        console.log(
          "1Ô∏è‚É£ window.selectBookingType exists?",
          typeof window.selectBookingType
        );

        // Find all booking type buttons
        const buttons = document.querySelectorAll(".select-booking-type-btn");
        console.log("2Ô∏è‚É£ Found buttons:", buttons.length);

        buttons.forEach((btn, index) => {
          const onclickAttr = btn.getAttribute("onclick");
          console.log(`Button ${index + 1} (${btn.textContent.trim()}):`, {
            hasOnclickAttribute: !!onclickAttr,
            onclickValue: onclickAttr,
            isVisible: btn.offsetParent !== null,
            dimensions: { width: btn.offsetWidth, height: btn.offsetHeight },
            position: btn.getBoundingClientRect(),
          });

          // Test if clicking manually works
          btn.addEventListener("click", function (e) {
            console.log(
              `%cüñ±Ô∏è BUTTON ${index + 1} CLICKED!`,
              "color: #4CAF50; font-weight: bold; font-size: 16px;"
            );
            console.log("Event target:", e.target);
            console.log("Current target:", e.currentTarget);
          });
        });

        // Test calling the function directly
        console.log(
          "%cüß™ Testing direct function call...",
          "color: #9C27B0; font-weight: bold;"
        );
        try {
          if (typeof window.selectBookingType === "function") {
            console.log('‚úÖ Function is accessible! Testing with "daytime"...');
            // Don't actually call it, just verify it exists
            console.log(
              "Function signature:",
              window.selectBookingType.toString().substring(0, 100) + "..."
            );
          } else {
            console.error("‚ùå window.selectBookingType is NOT a function!");
          }
        } catch (err) {
          console.error("‚ùå Error testing function:", err);
        }

        console.log(
          "%c‚úÖ Button diagnostic complete! Check console for results.",
          "color: #4CAF50; font-weight: bold;"
        );
        console.log(
          "%cüëÜ Try clicking a booking type button above and watch for messages!",
          "background: #FFF3CD; color: #856404; padding: 8px; font-weight: bold;"
        );
      }, 2000);
    </script>

    <!-- Image Lightbox Script -->
    <script>
      // Make it global so it can be called from anywhere
      window.openImageLightbox = function (imageSrc, imageAlt) {
        console.log("Opening lightbox for:", imageSrc);
        const lightbox = document.getElementById("imageLightbox");
        const lightboxImage = document.getElementById("lightboxImage");
        lightboxImage.src = imageSrc;
        lightboxImage.alt = imageAlt;
        lightbox.style.display = "flex";
        document.body.style.overflow = "hidden";
      };

      window.closeImageLightbox = function () {
        const lightbox = document.getElementById("imageLightbox");
        lightbox.style.display = "none";
        document.body.style.overflow = "auto";
      };

      // Make BOTH images and buttons clickable - EVENT DELEGATION on document
      document.addEventListener(
        "click",
        function (e) {
          // Check if clicked on view-image-btn or its children
          const btn = e.target.closest(".view-image-btn");
          if (btn) {
            e.preventDefault();
            e.stopPropagation();

            let imgSrc = btn.dataset.imgSrc;
            let imgAlt = btn.dataset.imgAlt;

            // If data attributes are missing, find the image in the same room-item
            if (!imgSrc) {
              const roomItem = btn.closest(".room-item");
              if (roomItem) {
                const img = roomItem.querySelector("img");
                if (img) {
                  imgSrc = img.src;
                  imgAlt = img.alt;
                }
              }
            }

            console.log("View button clicked!", imgSrc);
            if (imgSrc) {
              window.openImageLightbox(imgSrc, imgAlt || "Image");
            }
            return;
          }

          // Check if clicked on a room-item image
          if (e.target.tagName === "IMG" && e.target.closest(".room-item")) {
            e.preventDefault();
            e.stopPropagation();

            console.log("Image clicked directly!", e.target.src);
            window.openImageLightbox(e.target.src, e.target.alt);
          }
        },
        true
      ); // Use capture phase for immediate response

      // Add View Image buttons and style images
      document.addEventListener("DOMContentLoaded", function () {
        window.addButtonsAndStyle = function () {
          try {
            const roomItems = document.querySelectorAll(".room-item");

            roomItems.forEach((item, index) => {
              const img = item.querySelector("img");
              const roomInfo = item.querySelector(".room-info");

              if (!img || !roomInfo) return;

              // Style image
              img.style.cursor = "pointer";
              img.style.transition = "all 0.3s ease";
              img.title = "Click to enlarge";

              // Add hover effect to image (only once)
              if (!img.dataset.hoverAdded) {
                img.addEventListener("mouseenter", function () {
                  this.style.transform = "scale(1.05)";
                  this.style.boxShadow = "0 4px 12px rgba(102, 126, 234, 0.4)";
                });

                img.addEventListener("mouseleave", function () {
                  this.style.transform = "scale(1)";
                  this.style.boxShadow = "none";
                });
                img.dataset.hoverAdded = "true";
              }

              // Check if button already exists
              if (roomInfo.querySelector(".view-image-btn")) return;

              // Create View Image button
              const viewBtn = document.createElement("button");
              viewBtn.className = "view-image-btn";
              viewBtn.type = "button";
              viewBtn.innerHTML =
                '<i class="fas fa-search-plus"></i> View Image';

              // Store image data in button's dataset
              viewBtn.dataset.imgSrc = img.src;
              viewBtn.dataset.imgAlt = img.alt;

              // Append button to room-info
              roomInfo.appendChild(viewBtn);
            });
          } catch (error) {
            console.error("Error in addButtonsAndStyle:", error);
          }
        };

        // Initial call
        requestAnimationFrame(window.addButtonsAndStyle);

        // Re-add when modal content changes (debounced)
        let debounceTimer;
        const observer = new MutationObserver(function (mutations) {
          clearTimeout(debounceTimer);
          debounceTimer = setTimeout(function () {
            requestAnimationFrame(window.addButtonsAndStyle);
          }, 50);
        });

        const inclusionsContent = document.getElementById(
          "inclusionsModalContent"
        );
        if (inclusionsContent) {
          observer.observe(inclusionsContent, {
            childList: true,
            subtree: true,
          });
        }
      });

      // Close lightbox on Escape key
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") {
          window.closeImageLightbox();
        }
      });
    </script>
  </body>
</html>
